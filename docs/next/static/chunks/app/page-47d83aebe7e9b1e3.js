(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9528:function(e,t,n){Promise.resolve().then(n.bind(n,8452))},8452:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(7437),i=n(2265);let o={active:25,break:5};var c=n(6648);function s(e){let t=["spring","summer","autumn","winter"][Math.min(Math.floor(4*e.timeInfo.displayRatio),3)];return(0,a.jsx)("div",{className:"absolute w-full h-full z-[-100]",children:(0,a.jsx)(c.default,{fill:!0,objectFit:"contain",src:"/chilldoro/"+t+".png",alt:t+" image"})})}function r(e){return("0"+e).slice(-2)}function l(e){let t=e.timeInfo.secondsSinceStartTime<=60*e.timeInfo.pomodoroType.active,n=t?Math.ceil(60*e.timeInfo.pomodoroType.active-e.timeInfo.secondsSinceStartTime):Math.ceil(60*e.timeInfo.pomodoroType.break-(e.timeInfo.secondsSinceStartTime-60*e.timeInfo.pomodoroType.active)),i="".concat(r(Math.floor(n/60)),":").concat(r(n%60)),o=e.timeInfo.paused?"text-cyan-200":t?"text-green-700":"text-cyan-300";return(0,a.jsx)("h1",{className:"text-2xl font-extrabold text-center ".concat(o),children:i})}function m(e){let t=(e.timeInfo.displayRatio*Math.PI*2+4.19).toString()+"rad";return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"mr-auto size-[20svw] relative",children:[(0,a.jsx)(c.default,{className:"z-[-50]",fill:!0,objectFit:"contain",src:"/chilldoro/wheel.png",alt:"wheel image"}),(0,a.jsx)("div",{className:"py-[calc(10svw-2em)] px-[calc(10svw-4em)]",children:(0,a.jsx)("div",{className:"rounded-lg bg-white p-2",children:(0,a.jsx)(l,{timeInfo:e.timeInfo})})}),(0,a.jsx)(c.default,{className:"z-[-25]",fill:!0,style:{rotate:t},objectFit:"contain",src:"/chilldoro/handle.png",alt:"handle image"})]})})}function u(e,t){return Math.max(0,Math.min(e,t))}function d(){let[e,t]=(0,i.useState)(o),[n,c]=(0,i.useState)(new Date),[r,l]=(0,i.useState)(new Date),[d,f]=(0,i.useState)(!1),[h,p]=(0,i.useState)(0),v=(r.getTime()-n.getTime())/1e3,x=v-h;(0,i.useEffect)(()=>{let t=setInterval(()=>{let t=new Date,n=(t.getTime()-r.getTime())/1e3;l(t),d&&(p(h+n),console.log(n)),x>=(e.active+e.break)*60&&c(new Date)},100);return()=>clearInterval(t)},[r,d,h,x,e.active,e.break]);let I=(e.active+e.break)*60,S=u(x,60*e.active)/(60*e.active),b=u(x-60*e.active,60*e.break)/(60*e.break),g={sessionStartTime:n,currentTime:r,rawSecondsSinceStartTime:v,paused:h,secondsSinceStartTime:x,pomodoroType:e,trueRatio:x/I,displayRatio:.75*S+.25*b};return(0,a.jsxs)("div",{autoFocus:!0,tabIndex:0,className:"min-h-screen",onKeyDown:e=>{"KeyF"===e.code?f(!d):console.log(e.code+" was not captured")},children:[(0,a.jsx)(s,{timeInfo:g}),(0,a.jsx)(m,{timeInfo:g})]})}}},function(e){e.O(0,[648,971,23,744],function(){return e(e.s=9528)}),_N_E=e.O()}]);