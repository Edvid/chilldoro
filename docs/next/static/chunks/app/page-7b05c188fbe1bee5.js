(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9528:function(e,t,a){Promise.resolve().then(a.bind(a,8452))},8452:function(e,t,a){"use strict";a.d(t,{default:function(){return d}});var n=a(7437),i=a(2265);let o={active:25,break:5};var c=a(6648);function r(e){let t=["spring","summer","autumn","winter"][Math.min(Math.floor(4*e.timeInfo.displayRatio),3)];return(0,n.jsx)("div",{className:"absolute w-full h-full z-[-100]",children:(0,n.jsx)(c.default,{fill:!0,objectFit:"contain",src:"/chilldoro/"+t+".png",alt:t+" image"})})}function s(e){return("0"+e).slice(-2)}function l(e){let t=e.timeInfo.secondsSinceStartTime<=60*e.timeInfo.pomodoroType.active,a=t?Math.ceil(60*e.timeInfo.pomodoroType.active-e.timeInfo.secondsSinceStartTime):Math.ceil(60*e.timeInfo.pomodoroType.break-(e.timeInfo.secondsSinceStartTime-60*e.timeInfo.pomodoroType.active)),i="".concat(s(Math.floor(a/60)),":").concat(s(a%60));return(0,n.jsx)("h1",{className:"text-2xl font-extrabold text-center ".concat(t?"text-green-700":"text-cyan-300"),children:i})}function u(e){let t=(e.timeInfo.displayRatio*Math.PI*2+4.19).toString()+"rad";return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"mr-auto size-[20svw] relative",children:[(0,n.jsx)(c.default,{className:"z-[-50]",fill:!0,objectFit:"contain",src:"/chilldoro/wheel.png",alt:"wheel image"}),(0,n.jsx)("div",{className:"py-[calc(10svw-2em)] px-[calc(10svw-4em)]",children:(0,n.jsx)("div",{className:"rounded-lg bg-white p-2",children:(0,n.jsx)(l,{timeInfo:e.timeInfo})})}),(0,n.jsx)(c.default,{className:"z-[-25]",fill:!0,style:{rotate:t},objectFit:"contain",src:"/chilldoro/handle.png",alt:"handle image"})]})})}function m(e,t){return Math.max(0,Math.min(e,t))}function d(){let[e,t]=(0,i.useState)(o),[a,c]=(0,i.useState)(new Date),[s,l]=(0,i.useState)(new Date),[d,f]=(0,i.useState)(!1),[h,p]=(0,i.useState)(0),v=(s.getTime()-a.getTime())/1e3,x=v-h;(0,i.useEffect)(()=>{let t=setInterval(()=>{l(new Date),d&&p(h+1),x>=(e.active+e.break)*60&&c(new Date)},1e3);return()=>clearInterval(t)},[s,d,h,x,e.active,e.break]);let S=(e.active+e.break)*60,b=m(x,60*e.active)/(60*e.active),w=m(x-60*e.active,60*e.break)/(60*e.break),I={sessionStartTime:a,currentTime:s,rawSecondsSinceStartTime:v,paused:h,secondsSinceStartTime:x,pomodoroType:e,trueRatio:x/S,displayRatio:.75*b+.25*w};return(0,n.jsxs)("div",{autoFocus:!0,tabIndex:0,onKeyDown:e=>{"KeyF"===e.code?f(!d):console.log(e.code+" was not captured")},children:[(0,n.jsx)(r,{timeInfo:I}),(0,n.jsx)(u,{timeInfo:I})]})}}},function(e){e.O(0,[648,971,23,744],function(){return e(e.s=9528)}),_N_E=e.O()}]);